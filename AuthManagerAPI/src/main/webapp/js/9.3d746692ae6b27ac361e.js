webpackJsonp([9],{355:function(e,t,s){function r(e){s(372)}var a=s(1)(s(370),s(373),r,null,null);e.exports=a.exports},370:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(33),a=(s.n(r),s(0));t.default={name:"CommonAddUser",mixins:[r.viewMixin],mounted:function(){this.searchUserBackup=s.i(a.extend)({},this.searchUser),this.searchGroupBackup=s.i(a.extend)({},this.searchGroup)},props:{tabs:{type:String,default:"all"}},data:function(){return{searchUser:{userAccount:"",displayName:""},searchGroup:{groupName:""},userColumns:[{label:"帳號",field:"userAccount",width:"100px",sort:!0},{label:"顯示名稱",field:"displayName",width:"100px",sort:!0}],groupColumns:[{label:"群組名稱",field:"groupName",width:"100px",sort:!0},{label:"備註",field:"description",width:"100px",sort:!0}]}},methods:{open:function(){this.$refs.memberModal.open(),this.$refs.tabs.selectTab("tab-user")},close:function(){this.$refs.memberModal.close()},selectUser:function(){var e=this;this.searchUser=s.i(a.extend)({},this.searchUserBackup),setTimeout(function(){e.$refs.userPager.clean()})},selectGroup:function(){var e=this;this.searchGroup=s.i(a.extend)({},this.searchGroupBackup),setTimeout(function(){e.$refs.groupPager.clean()})},addUserMember:function(){var e=this.$refs.userTable.getChecked();e=e.map(function(e){return{roleType:"U",roleMemberId:e.userId,memberName:e.displayName}}),this.$emit("select",e),this.close()},addGroupMember:function(){var e=this.$refs.groupTable.getChecked();e=e.map(function(e){return{roleType:"G",roleMemberId:e.groupId,memberName:e.groupName}}),this.$emit("select",e),this.close()}},components:{QTabs:a.QTabs,QTab:a.QTab,QTabPane:a.QTabPane,QScrollArea:a.QScrollArea}}},371:function(e,t,s){t=e.exports=s(353)(!1),t.push([e.i,".member .layout-padding{padding:10px}",""])},372:function(e,t,s){var r=s(371);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s(354)("6b77af24",r,!0,{})},373:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("s-modal",{ref:"memberModal",staticClass:"member",attrs:{title:"加入成員",width:"800px",height:"510px"}},[s("template",{slot:"content"},[s("q-tabs",{ref:"tabs",attrs:{color:"deepblue",align:"center"}},[s("q-tab",{attrs:{default:"",name:"tab-user",label:"使用者",disable:"all"!==e.tabs&&"user"!==e.tabs},on:{select:e.selectUser},slot:"title"}),e._v(" "),s("q-tab",{attrs:{name:"tab-group",label:"群組",disable:"all"!==e.tabs&&"group"!==e.tabs},on:{select:e.selectGroup},slot:"title"}),e._v(" "),s("q-tab-pane",{attrs:{name:"tab-user"}},[s("div",{staticClass:"full-width row md-gutter justify-center",staticStyle:{"padding-bottom":"10px"}},[s("s-input",{staticClass:"col-5",attrs:{label:"帳號"},model:{value:e.searchUser.userAccount,callback:function(t){e.searchUser.userAccount=t},expression:"searchUser.userAccount"}}),e._v(" "),s("s-input",{staticClass:"col-5",attrs:{label:"顯示名稱"},model:{value:e.searchUser.displayName,callback:function(t){e.searchUser.displayName=t},expression:"searchUser.displayName"}})],1),e._v(" "),s("div",{staticClass:"row justify-center xs-gutter",staticStyle:{"padding-bottom":"10px"}},[s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:function(t){e.$refs.userPager.search(e.searchUser)}}},[e._v("查詢")])],1),e._v(" "),s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:e.addUserMember}},[e._v("選擇")])],1),e._v(" "),s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:function(t){e.$refs.memberModal.close()}}},[e._v("取消")])],1)]),e._v(" "),s("s-paginator",{ref:"userPager",staticStyle:{"padding-bottom":"20px"},attrs:{url:"getAuthUserList","page-size":5},scopedSlots:e._u([{key:"default",fn:function(t){return[s("s-datatable",{ref:"userTable",attrs:{source:t.data,offset:t.offset,striped:"",multiple:"",checkboxs:""}},e._l(e.userColumns,function(e,t){return s("s-datatable-column",{key:t,attrs:{column:e},slot:"columns"})}))]}}])})],1),e._v(" "),s("q-tab-pane",{attrs:{name:"tab-group"}},[s("div",{staticClass:"full-width row md-gutter justify-center",staticStyle:{"padding-bottom":"10px"}},[s("s-input",{staticClass:"col-5",attrs:{label:"群組名稱"},model:{value:e.searchGroup.groupName,callback:function(t){e.searchGroup.groupName=t},expression:"searchGroup.groupName"}})],1),e._v(" "),s("div",{staticClass:"row justify-center xs-gutter",staticStyle:{"padding-bottom":"10px"}},[s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:function(t){e.$refs.groupPager.search(e.searchGroup)}}},[e._v("查詢")])],1),e._v(" "),s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:e.addGroupMember}},[e._v("選擇")])],1),e._v(" "),s("div",[s("s-btn",{attrs:{color:"darkred",big:""},on:{click:function(t){e.$refs.memberModal.close()}}},[e._v("取消")])],1)]),e._v(" "),s("s-paginator",{ref:"groupPager",staticStyle:{"padding-bottom":"20px"},attrs:{url:"getAuthGroupPageList","page-size":5},scopedSlots:e._u([{key:"default",fn:function(t){return[s("s-datatable",{ref:"groupTable",attrs:{source:t.data,offset:t.offset,striped:"",multiple:"",checkboxs:""}},e._l(e.groupColumns,function(e,t){return s("s-datatable-column",{key:t,attrs:{column:e},slot:"columns"})}))]}}])})],1)],1)],1)],2)},staticRenderFns:[]}}});