webpackJsonp([11],{356:function(e,t,n){function i(e){n(376)}var a=n(1)(n(374),n(377),i,null,null);e.exports=a.exports},374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),a=n.n(i),c=["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"],o=0,d=function(){},l=function(){return"createEvent"in document?function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}:function(e){e.fireEvent("onchange")}}();t.default={name:"s-tree-node",EMPTY_FN:d,data:function(){return{isChecked:!!this.data.isChecked,id:"s-tree-node-"+ ++o,loading:!1,isBodyVisible:this.data.children.length>0||this.loader!==d}},props:{data:{type:Object,default:function(){}},pId:{type:[String,Number],default:""},topLevelIndent:{type:Number,default:0},indent:{type:Number,default:0},cbCheckboxClicked:{type:Function,default:function(){}},loader:{type:Function,default:d},cbExpanded:{type:Function,default:d},cbAbbred:{type:Function,default:d},cbChanged:{type:Function,default:d},customLabel:{type:Function,default:d},customHtmlLabel:{type:Function,default:d}},computed:{expandable:{cache:!1,get:function(){return this.data.children.length>0||this.loader!==d}},cls:function(){var e={expanded:this.isBodyVisible,loading:this.loading};return e["level-"+this.data.level]=!0,e},label:function(){return this.customLabel!==d?this.customLabel(this.data):this.data.label},color:function(){return this.data.color?"text-"+this.data.color:"text-black"},useCustomHtmlLabel:function(){return this.customHtmlLabel!==d}},methods:{checkboxChanged:function(e){this.isChecked=e.target.checked},checkboxClicked:function(e){this.data.isChecked=e.target.checked,this.$el.querySelectorAll(".body input[type=checkbox]").forEach(function(t){t.checked=e.target.checked,l(t)});for(var t=this.$el.getAttribute("data-pid");""!==t;){var n=document.querySelectorAll("#"+t+" > .body input[type=checkbox]"),i=document.querySelectorAll("#"+t+" > .body input[type=checkbox]:checked"),a=document.querySelector("#"+t+" > .header input[type=checkbox]");a.checked=n.length===i.length,l(a);t=document.getElementById(t).getAttribute("data-pid")}if(this.cbChanged!==d){var c=document.querySelectorAll(".hsy-tree input[type=checkbox]:checked");c=Array.prototype.slice.call(c),this.cbChanged(c.map(function(e){return parseInt(e.value)}))}this.cbCheckboxClicked(this,e)},rect:function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("display"),i=t.getPropertyValue("top"),a=t.getPropertyValue("left"),c=t.getPropertyValue("height");e.style.height="auto",e.style.top="-1000px",e.style.left="-1000px",e.style.display="inline-block";var o=e.getBoundingClientRect();return e.style.display=n,e.style.top=i,e.style.left=a,e.style.height=c,o},trans:function(e){return new a.a(function(t){c.forEach(function(n){e.addEventListener(n,function(){t()})})})},beforeEnter:function(e){var t=this.rect(e);e._height=t.height,e.style.height="0px"},enter:function(e,t){var n=this;0===e._height&&this.$nextTick(function(){n.cbExpanded!==Node.EMPTY_FN&&n.cbExpanded()}),this.trans(e).then(function(){t(),n.$nextTick(function(){n.cbExpanded!==Node.EMPTY_FN&&n.cbExpanded()})}),setTimeout(function(){e.style.height=e._height+"px"},10)},afterEnter:function(e){e.style.height="auto"},beforeLeave:function(e){var t=this.rect(e);e._height=t.height,e.style.height=e._height+"px"},leave:function(e,t){var n=this,i=window.getComputedStyle(e),a=i.getPropertyValue("height");0===parseInt(a)&&this.$nextTick(function(){n.cbAbbred!==Node.EMPTY_FN&&n.cbAbbred()}),this.trans(e).then(function(){t(),n.$nextTick(function(){n.cbAbbred!==Node.EMPTY_FN&&n.cbAbbred()})}),setTimeout(function(){e.style.height="0px"},10)},autoExpand:function(){var e=this,t=this.isBodyVisible;if(!t&&0===this.data.children.length&&this.loader&&this.loader!==d)return this.loading=!0,void new a.a(function(t){e.loader(e,function(n){e.data.children=n.map(function(t){return t.level=e.data.level+1,t.idx=++o,t}),t()})}).then(function(){e.isBodyVisible=!0,e.loading=!1});this.isBodyVisible=!t}}}},375:function(e,t,n){t=e.exports=n(353)(!1),t.push([e.i,"",""])},376:function(e,t,n){var i=n(375);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(354)("dae8b5b2",i,!0,{})},377:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node",class:e.cls,attrs:{id:e.id,"data-pid":e.pId}},[n("div",{staticClass:"header",style:{"padding-left":e.topLevelIndent+e.data.level*e.indent+"px"},on:{click:function(t){if(t.target!==t.currentTarget)return null;e.autoExpand(t)}}},[n("label",{class:{checked:e.isChecked}},[n("input",{attrs:{type:"checkbox"},domProps:{value:e.data.idx,checked:e.isChecked},on:{change:e.checkboxChanged,click:e.checkboxClicked}})]),e._v(" "),n("div",{on:{click:e.autoExpand}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.expandable,expression:"expandable"}]}),e._v(" "),e.useCustomHtmlLabel?e._e():n("span",{class:e.color},[e._v(e._s(e.label))]),e._v(" "),e.useCustomHtmlLabel?n("span",{class:e.color,domProps:{innerHTML:e._s(e.customHtmlLabel(e.label))}}):e._e()])]),e._v(" "),n("transition",{on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave,leave:e.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isBodyVisible,expression:"isBodyVisible"}],staticClass:"body"},e._l(e.data.children,function(t,i){return n("s-tree-node",{key:i,attrs:{loader:e.loader,customLabel:e.customLabel,customHtmlLabel:e.customHtmlLabel,topLevelIndent:e.topLevelIndent,data:t,pId:e.id,indent:e.indent,cbExpanded:e.cbExpanded,cbAbbred:e.cbAbbred,cbCheckboxClicked:e.cbCheckboxClicked,cbChanged:e.cbChanged}})}))])],1)},staticRenderFns:[]}}});